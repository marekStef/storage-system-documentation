"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7793],{54369:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>d,toc:()=>c});var s=t(74848),a=t(28453);const o={sidebar_position:4},r="Setup",d={id:"main-system/data-storage/setup",title:"Setup",description:"Setup is in czech/slovak but will be rewritten to english once its content is approved.",source:"@site/docs/main-system/data-storage/setup.md",sourceDirName:"main-system/data-storage",slug:"/main-system/data-storage/setup",permalink:"/storage-system-documentation/docs/main-system/data-storage/setup",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/main-system/data-storage/setup.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"mainSystemSidebar",previous:{title:"Events Handling",permalink:"/storage-system-documentation/docs/main-system/data-storage/events-handling"},next:{title:"Usage",permalink:"/storage-system-documentation/docs/main-system/data-storage/usage"}},i={},c=[{value:"Setup a Spusteni s Dockerem",id:"setup-a-spusteni-s-dockerem",level:3},{value:"Setup a Spusteni Bez Dockeru",id:"setup-a-spusteni-bez-dockeru",level:3},{value:"Instalace",id:"instalace",level:5},{value:"Delete",id:"delete",level:5},{value:"Spusteni",id:"spusteni",level:5}];function l(e){const n={admonition:"admonition",code:"code",h1:"h1",h3:"h3",h5:"h5",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"setup",children:"Setup"}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsx)(n.p,{children:"Setup is in czech/slovak but will be rewritten to english once its content is approved."})}),"\n",(0,s.jsx)(n.h3,{id:"setup-a-spusteni-s-dockerem",children:"Setup a Spusteni s Dockerem"}),"\n",(0,s.jsxs)(n.p,{children:["Pri dockeri je potrebne se ujistit, ze v ",(0,s.jsx)(n.code,{children:".env"})," mame odkomentovane spravne veci:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-env",children:"# MONGO_DB_URI=mongodb://localhost:27017/dataStorage # for manual starting\r\nMONGO_DB_URI=mongodb://mongo1:27017/dataStorage # for docker\n"})}),"\n",(0,s.jsxs)(n.p,{children:["V pripade, ze chceme manualne dropnout databazi vytvorenou ",(0,s.jsx)(n.code,{children:"dataStorage"})," komponentou, je potrebne nejprve najit dany kontejner:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-docker",children:"docker ps\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Bude se to pravdepodobne volat takhle: ",(0,s.jsx)(n.code,{children:"backend-data_storage-1"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Pak jiz muzeme spustit dany script:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-docker",children:"docker exec backend-data_storage-1 npm run delete_database\n"})}),"\n",(0,s.jsx)(n.p,{children:"Vysledkem by melo byt tohle:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-docker",children:"C:\\Users\\stefanec>docker exec backend-data_storage-1 npm run delete_database\r\n\r\n> datastorage@1.0.0 delete_database\r\n> node scripts/deletion/deleteDatabase.js\r\n\r\nMongoDB connected. Now, dropping the database.\r\nDatabase dropped: true\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setup-a-spusteni-bez-dockeru",children:"Setup a Spusteni Bez Dockeru"}),"\n",(0,s.jsxs)(n.p,{children:["Potrebujeme odkomentovat a zakomentovat nasledovne v ",(0,s.jsx)(n.code,{children:".env"})," souboru:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-env",children:"MONGO_DB_URI=mongodb://localhost:27017/dataStorage # for manual starting\r\n# MONGO_DB_URI=mongodb://mongo1:27017/dataStorage # for docker\n"})}),"\n",(0,s.jsxs)(n.p,{children:["V ",(0,s.jsx)(n.code,{children:".env"})," souboru je jeste podstatni klic ",(0,s.jsx)(n.code,{children:"DATA_STORAGE_SERVER_PORT=3005"}),". V pripade, ze tento projekt nejde spustit pod portem ",(0,s.jsx)(n.code,{children:"3005"}),", je nutno ho zamenit."]}),"\n",(0,s.jsxs)(n.p,{children:["V pripade, ze je nutno ho zamenit, tak je potrebna dodatocna zmena - a to zmenit tuhle hodnotu v ",(0,s.jsx)(n.code,{children:".env"})," komponenty ",(0,s.jsx)(n.code,{children:"authService"}),", ktera s touto komponentou primo komunikuje."]}),"\n",(0,s.jsxs)(n.p,{children:["V komponente ",(0,s.jsx)(n.code,{children:"authService"})," je konkretne klic ",(0,s.jsx)(n.code,{children:"DATA_STORAGE_URL"}),", ktery je nutno zmenit."]}),"\n",(0,s.jsx)(n.h5,{id:"instalace",children:"Instalace"}),"\n",(0,s.jsx)(n.p,{children:"Pro nainstalovani vsech dependencies je nutno spustit:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n",(0,s.jsx)(n.h5,{id:"delete",children:"Delete"}),"\n",(0,s.jsx)(n.p,{children:"Pro vyresetovani celej databazi je mozne pouzit skript, ktery se spusti nasledovne:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run delete_database\n"})}),"\n",(0,s.jsx)(n.h5,{id:"spusteni",children:"Spusteni"}),"\n",(0,s.jsxs)(n.p,{children:["Pak jiz muzeme nastartovat ",(0,s.jsx)(n.code,{children:"dataStorage"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run start\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>d});var s=t(96540);const a={},o=s.createContext(a);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);