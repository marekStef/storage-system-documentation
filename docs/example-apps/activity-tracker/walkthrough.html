<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-example-apps/activity-tracker/walkthrough" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Activity Tracker App | Decentralised Data Storage</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/storage-system-documentation/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/storage-system-documentation/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Activity Tracker App | Decentralised Data Storage"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/storage-system-documentation/img/image-data-storage.png"><link data-rh="true" rel="canonical" href="https://github.com/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough"><link data-rh="true" rel="alternate" href="https://github.com/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough" hreflang="x-default"><link rel="stylesheet" href="/storage-system-documentation/assets/css/styles.40769eb2.css">
<script src="/storage-system-documentation/assets/js/runtime~main.e3428175.js" defer="defer"></script>
<script src="/storage-system-documentation/assets/js/main.71fbd54a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/storage-system-documentation/"><div class="navbar__logo"><img src="/storage-system-documentation/img/image-data-storage.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/storage-system-documentation/img/image-data-storage.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DecentralisedPro</b></a><a class="navbar__item navbar__link" href="/storage-system-documentation/docs/category/introduction">Walkthrough</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/storage-system-documentation/docs/example-apps/intro">Fully-fledged Example Apps</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/storage-system-documentation/docs/example-apps/intro">Demo Applications</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/storage-system-documentation/docs/category/location-tracker">Location Tracker</a><button aria-label="Expand sidebar category &#x27;Location Tracker&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/storage-system-documentation/docs/category/calendar-pro">Calendar Pro</a><button aria-label="Expand sidebar category &#x27;Calendar Pro&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/storage-system-documentation/docs/category/activity-tracker">Activity Tracker</a><button aria-label="Collapse sidebar category &#x27;Activity Tracker&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough">Activity Tracker App</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/storage-system-documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/storage-system-documentation/docs/category/activity-tracker"><span itemprop="name">Activity Tracker</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Activity Tracker App</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Activity Tracker App</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#introduction">​</a></h2>
<p>This <strong>Windows Activity Tracker App</strong> was programmed in C++ programmig language and is primarily targeted at <strong>Windows Operating System</strong>.
It consists of GUI and tracking related business logic using Windows specific APIs.</p>
<p>We chose <strong>wxWidgets</strong> for writing the UI part. <strong>wxWidgets</strong> is an open-source, cross-platform graphical user interface toolkit that allows developers to create applications with native look and feel on Windows, macOS, Linux, and other operating systems using C++.</p>
<p>Even though the GUI could possibly run on other systems than Windows, it&#x27;s the heavy use of Windows specific things that restricts the use of this application elsewhere.</p>
<p>As for the functionality, this is the current set of features:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="being-able-to-run-in-the-background-without-a-visible-window-and-no-icon-in-the-taskbar">Being able to run in the background without a visible window and no icon in the taskbar<a class="hash-link" aria-label="Direct link to Being able to run in the background without a visible window and no icon in the taskbar" title="Direct link to Being able to run in the background without a visible window and no icon in the taskbar" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#being-able-to-run-in-the-background-without-a-visible-window-and-no-icon-in-the-taskbar">​</a></h4>
<p>When the application starts, it shows a GUI window containing various screens. User can start different services (which we will talk about later) and then close the app by either clicking on the native minimise button or even a close button. When either of those buttons is clicked, the application hides the main GUI window, including the icon with a title in the task bar and moves to the system tray. It&#x27;s only in the system tray where the user can bring the main UI back from. User also receives one-time popup alert explaining where to find this hidden app.</p>
<p>Application is therefore able to run silently, not disturbing the user at all.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gathering-windows-apps-info">Gathering Windows Apps Info<a class="hash-link" aria-label="Direct link to Gathering Windows Apps Info" title="Direct link to Gathering Windows Apps Info" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#gathering-windows-apps-info">​</a></h4>
<p><strong>Windows Activity Tracker</strong> periodically gathers data about each individual running visible window app (excludes non-GUI applications).</p>
<p>This set of applications data is then transformed into JSON and stored as a json file in predefined directory. This directory is chosen in the settings screen.
User can set periodicity of this information gathering and start the gathering thread from the home screen of the app.</p>
<p>This is what such a json file looks like:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Windows Apps Info Data</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;metadata&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;createdDate&quot;: &quot;2024-04-16T17:50:48.486Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;profile&quot;: &quot;activityTracker.com/activityTrackerEvent&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;dimensions&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;bottom&quot;: -31972,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;left&quot;: -32000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;right&quot;: -31840,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;top&quot;: -32000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;exeName&quot;: &quot;C:\\Program Files\\Microsoft Visual Studio\\2022\\Enterprise\\Common7\\IDE\\devenv.exe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;isMinimised&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;memoryUsageInBytes&quot;: &quot;852729856&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;moduleName&quot;: &quot;devenv.exe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;processId&quot;: &quot;3435973836&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;title&quot;: &quot;activityTracker (Running) - Microsoft Visual Studio&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;metadata&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;createdDate&quot;: &quot;2024-04-16T17:50:48.486Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;profile&quot;: &quot;activityTracker.com/activityTrackerEvent&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;dimensions&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;bottom&quot;: -31972,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;left&quot;: -32000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;right&quot;: -31840,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;top&quot;: -32000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;exeName&quot;: &quot;C:\\Windows\\explorer.exe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;isMinimised&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;memoryUsageInBytes&quot;: &quot;411336704&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;moduleName&quot;: &quot;Explorer.EXE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;processId&quot;: &quot;3435973836&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;title&quot;: &quot;2024-04-16_T17-45-31.757Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;metadata&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;createdDate&quot;: &quot;2024-04-16T17:50:48.486Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;profile&quot;: &quot;activityTracker.com/activityTrackerEvent&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;dimensions&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;bottom&quot;: -31972,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;left&quot;: -32000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;right&quot;: -31840,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;top&quot;: -32000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;exeName&quot;: &quot;C:\\Program Files (x86)\\Microsoft Office\\root\\Office16\\OUTLOOK.EXE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;isMinimised&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;memoryUsageInBytes&quot;: &quot;232927232&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;moduleName&quot;: &quot;OUTLOOK.EXE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;processId&quot;: &quot;3435973836&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;title&quot;: &quot;Sent Items - stefanecmarek@icloud.com - Outlook&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;metadata&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;createdDate&quot;: &quot;2024-04-16T17:50:48.486Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;profile&quot;: &quot;activityTracker.com/activityTrackerEvent&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;payload&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;dimensions&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;bottom&quot;: -31972,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;left&quot;: -32000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;right&quot;: -31840,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;top&quot;: -32000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;exeName&quot;: &quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;isMinimised&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;memoryUsageInBytes&quot;: &quot;505491456&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;moduleName&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;processId&quot;: &quot;3435973836&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;title&quot;: &quot;Alza.sk - Google Chrome&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Windows Activity Tracker</strong> also tries to synchronise these data with the main storage system. That&#x27;s why the app also contains logic for associating itself with the storage system, including creating new profiles, requesting permissions and individual events uploading.</p>
<p>For getting this data, we primarily depend on <code>windows.h</code> and <code>psapi.h</code> libraries.</p>
<p>The <code>EnumWindows</code> function from <code>windows.h</code> is a cornerstone of this application, as it allows us to enumerate through all open windows and collect information such as window titles, class names, dimensions, and state (minimized or not). This function calls the <code>EnumWindowsProc</code> callback which captures detailed attributes for each window including process ID, executable name, and memory usage—attributes that are crucial for analyzing the applications running on a system.</p>
<p>The <code>psapi.h</code> library&#x27;s functions like <code>GetProcessMemoryInfo</code> and <code>GetModuleFileNameEx</code> are used to enrich the information captured by retrieving the memory usage statistics of the given process and the executable path of the application running in the window.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gathering-screenshots">Gathering Screenshots<a class="hash-link" aria-label="Direct link to Gathering Screenshots" title="Direct link to Gathering Screenshots" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#gathering-screenshots">​</a></h4>
<p>The application takes screenshots of all currently connected active monitors. It detects them, adjusts picture properties for them and takes screenshots. Eaching screenshotting moment is then stored in a new directory named according to the current time and consisting of all pictures of monitors. Directory for these screenshots is as well selected in the app&#x27;s settings page.</p>
<p>These screenshots are currently not synced.</p>
<p>For taking screenshots, we created a <code>Screenshots Manager</code>. This depends on <code>windows.h</code> and <code>gdiplus.h</code> libraries.</p>
<p><code>gdiplus.h</code> is part of the <code>GDI+</code> library, an enhancement over the older GDI framework, providing more complex two-dimensional graphics and imaging capabilities. This library is crucial for handling the images captured from the screen. It supports operations like loading, saving, processing, and manipulating images in various formats. In our application, <code>GDI+</code> functions are used to save the captured bitmap images into desired formats using specific codecs. Functions such as <code>Gdiplus::Bitmap::Save</code> and <code>Gdiplus::GetImageEncoders</code> are used for managing image files, enabling the application to handle image data efficiently and with high fidelity.</p>
<p>In the screenshot management functionality, <code>windows.h</code> and <code>gdiplus.h</code> work in tandem to perform the task of capturing and saving screenshots:</p>
<p><strong>Screen Capture with windows.h:</strong></p>
<ul>
<li>
<p><code>GetDC</code> function retrieves a handle to a device context for the entire screen, which represents a drawing surface for the Windows display.</p>
</li>
<li>
<p><code>CreateCompatibleDC</code> and <code>CreateCompatibleBitmap</code> create a memory device context and bitmap that are compatible with the screen. This is where the screenshot will be drawn.</p>
</li>
<li>
<p><code>BitBlt</code> transfers the bitmap data from the screen&#x27;s device context to the bitmap stored in memory, effectively capturing the screenshot.
<strong>Image Saving with gdiplus.h:</strong></p>
</li>
<li>
<p>Upon capturing the bitmap, <code>GDI+</code> is utilized to convert and save this bitmap into a file. The <code>Gdiplus::Bitmap</code> object represents the image in memory.
Encoder CLSIDs (Class Identifiers) are retrieved using GetImageEncoders, which are necessary for specifying the format in which the image should be saved (e.g., JPEG, PNG).
The Save method of the <code>Gdiplus::Bitmap</code> class is used to write the image file to disk in the desired format, utilizing the previously obtained encoder.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="logging-key-presses">Logging Key Presses<a class="hash-link" aria-label="Direct link to Logging Key Presses" title="Direct link to Logging Key Presses" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#logging-key-presses">​</a></h4>
<p>This feature heavily depends on the app&#x27;s ability to hide itself. That&#x27;s because this logging of key presses on the user&#x27;s keyboard is handled by another thread and the logging works even when the apps is not focused, nor shown. In other words, any key press anywhere in the system is registered and saved in the file. When the user starts this key presses logging a new file is created for this session and stored in a predefined directory (selected in the settings). Inside this directory, another directory called <code>keypresses</code> gets created where these files are stored.</p>
<p>This functionality depends again on <code>windows.h</code> library.</p>
<ul>
<li><code>SetWindowsHookEx</code>: This function installs an application-defined hook procedure into a hook chain. In our code, it&#x27;s used to install a low-level keyboard hook (<code>WH_KEYBOARD_LL</code>) that monitors keystroke messages.</li>
<li>The callback function <code>lowLevelKeyboardPressCallback</code> defined is registered and gets called by the Windows system every time a keyboard event occurs. It checks whether the event should be processed (nCode == HC_ACTION) and logs key presses based on whether the Ctrl or Shift key is held down along with another key.</li>
<li><code>UnhookWindowsHookEx</code>: This function removes a previously installed hook procedure from a hook chain. It is used to deactivate the keyboard hook when it is no longer needed, ensuring that the application cleans up its resources correctly.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gathering-network-info">Gathering Network Info<a class="hash-link" aria-label="Direct link to Gathering Network Info" title="Direct link to Gathering Network Info" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#gathering-network-info">​</a></h4>
<p>This part of the app allows scanning and retrieving the SSIDs of available WLAN networks.</p>
<p>There are several key libraries integral to this functionality:</p>
<ol>
<li><code>Wlanapi.h</code>
This header file is part of the Windows Native Wi-Fi API, which provides functions to interact with WLAN (Wireless Local Area Network) interfaces.</li>
<li><code>Windows.h</code></li>
</ol>
<p>From <code>Wlanapi.h</code> we use the following functions:</p>
<ul>
<li><strong>WlanOpenHandle()</strong>: Opens a client handle to the WLAN service, which is required for other WLAN operations.</li>
<li><strong>WlanEnumInterfaces()</strong>: Enumerates all WLAN interfaces on the device, providing information about each interface.</li>
<li><strong>WlanGetAvailableNetworkList()</strong>: Retrieves a list of available networks for a specific WLAN interface.</li>
<li><strong>WlanFreeMemory()</strong>: Frees memory that was allocated by WLAN API functions like <code>WlanEnumInterfaces</code> and <code>WlanGetAvailableNetworkList</code>.</li>
<li><strong>WlanCloseHandle()</strong>: Closes the handle obtained by <code>WlanOpenHandle</code> once WLAN operations are complete.</li>
</ul>
<p>These functions are specifically designed for managing and retrieving information about wireless network interfaces and networks available to these interfaces. They enable applications to interact with the hardware&#x27;s wireless capabilities at a system level.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="automatic-startup-during-startup-of-the-windows-os">Automatic Startup During Startup of the Windows OS<a class="hash-link" aria-label="Direct link to Automatic Startup During Startup of the Windows OS" title="Direct link to Automatic Startup During Startup of the Windows OS" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#automatic-startup-during-startup-of-the-windows-os">​</a></h4>
<p>Application has the ability to register itself among the list of apps which are started during the startup of the operating system. This can be turned off in the app&#x27;s settings.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="walkthrough">Walkthrough<a class="hash-link" aria-label="Direct link to Walkthrough" title="Direct link to Walkthrough" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#walkthrough">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initial-setup-page">Initial Setup Page<a class="hash-link" aria-label="Direct link to Initial Setup Page" title="Direct link to Initial Setup Page" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#initial-setup-page">​</a></h3>
<p>This screen is meant for setting up with the main storage system. That&#x27;s because as we already mentioned, the app synchronises the windows apps info data.</p>
<p><img decoding="async" loading="lazy" alt="Windows Activity Tracker - Initial Setup" src="/storage-system-documentation/assets/images/initial-setup-e2581b0e0f0d3e1c6af9bc8467670907.png" width="604" height="556" class="img_ev3q"></p>
<p>Input becomes green, when it&#x27;s been checked and it&#x27;s correct. When the setup is successfull, these inputs disappear and the information about the app being setup is displayed.</p>
<p><img decoding="async" loading="lazy" alt="Windows Activity Tracker - Initial Setup Already Set" src="/storage-system-documentation/assets/images/initial-setup-app-already-set-7855001e29259fc96cc13b287ee32fcc.png" width="611" height="113" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="existing-setup-page">Existing Setup Page<a class="hash-link" aria-label="Direct link to Existing Setup Page" title="Direct link to Existing Setup Page" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#existing-setup-page">​</a></h3>
<p>If there exists some already existing setup in the main storage system, the user can just copy proper tokens and paste them here.</p>
<p><img decoding="async" loading="lazy" alt="Windows Activity Tracker - Existing Setup" src="/storage-system-documentation/assets/images/existing-setup-5a6269b09742c891a4c055659dbf10e5.png" width="607" height="452" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="home-page">Home Page<a class="hash-link" aria-label="Direct link to Home Page" title="Direct link to Home Page" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#home-page">​</a></h3>
<p>This is the place where magic happens - user can start all aforementioned features here.</p>
<p>Also, as you can see, currently connected to network SSIDs are shown.</p>
<p><img decoding="async" loading="lazy" alt="Windows Activity Tracker - Home Screen" src="/storage-system-documentation/assets/images/home-944b69c031173623f94cc52a28fb7431.png" width="601" height="542" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="settings-page">Settings Page<a class="hash-link" aria-label="Direct link to Settings Page" title="Direct link to Settings Page" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#settings-page">​</a></h3>
<p>This is the page where the user can set the directory where all data will be stored - including the windows apps info, screenshots and key presses. All this data won&#x27;t be mixed up though - everything will be neatly placed in nested directories.</p>
<p>Periodicity (in seconds) can be set for taking screenshots and windows apps info gathering.</p>
<p><img decoding="async" loading="lazy" alt="Windows Activity Tracker - Home Screen" src="/storage-system-documentation/assets/images/settings-fc0219372b52c97a106fa7a694a0d218.png" width="606" height="547" class="img_ev3q"></p>
<p>Last, but not least, the app can be reset from this place.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/example-apps/activity-tracker/walkthrough.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/storage-system-documentation/docs/category/activity-tracker"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Activity Tracker</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#introduction">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#walkthrough">Walkthrough</a><ul><li><a class="table-of-contents__link toc-highlight" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#initial-setup-page">Initial Setup Page</a></li><li><a class="table-of-contents__link toc-highlight" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#existing-setup-page">Existing Setup Page</a></li><li><a class="table-of-contents__link toc-highlight" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#home-page">Home Page</a></li><li><a class="table-of-contents__link toc-highlight" href="/storage-system-documentation/docs/example-apps/activity-tracker/walkthrough#settings-page">Settings Page</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/storage-system-documentation/docs/intro">Walkthrough</a></li><li class="footer__item"><a class="footer__link-item" href="/storage-system-documentation/docs/intro">Fully-fledged Example Apps</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gitlab.mff.cuni.cz/stefanm4/managementsystem" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 DecentralisedPro, the faculty of mathematics and physics, Charles University in Prague</div></div></div></footer></div>
</body>
</html>